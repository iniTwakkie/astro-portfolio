---
import Layout from '../../layouts/Layout.astro';
import ProjectCard from '../../components/ProjectCard.astro';
import { getCollection } from 'astro:content';

const projects = (await getCollection('projects'))
    .filter((project) => project.data.published !== false)
    .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());
---

<Layout title="Projects" description="A showcase of my work.">
	<section>
        <h1 class="font-bold text-2xl mb-8 tracking-tight text-black">Projects</h1>
		<div class="flex flex-col gap-2">
			{projects.map((project) => (
				<ProjectCard project={project} />
			))}
		</div>
	</section>
</Layout>
